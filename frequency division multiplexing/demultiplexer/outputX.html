<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Frequency Spectrum of Output X</title>
</head>
<body>
    <script type="text/javascript">
        const canvas2=document.createElement('canvas'), pi=Math.PI;
        canvas2.id='canvas2';
        canvas2.width= (window.innerWidth)-25;
        canvas2.height=(3.25*window.innerHeight)/4;
        canvas2.style.border="1px solid #000";
        canvas2.style.position="top 95px;"
        canvas2.style.margin="2.5px";
        document.body.appendChild(canvas2);
        const context1= canvas2.getContext('2d');
        const C = 0.01; D = 55000; H=1000;
        const V = 0.25;
        var a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z, ñ, xz;

        a = localStorage.getItem("car1fre");
        b = parseFloat(a);
        c = localStorage.getItem("car1amp");
        d = parseFloat(c);
        e = localStorage.getItem("demin1fre");
        f = parseFloat(e);
        g = localStorage.getItem("demin1amp");
        h = parseFloat(g);
        i = localStorage.getItem("car2fre");
        j = parseFloat(i);
        k = localStorage.getItem("car2amp");
        l = parseFloat(k);
        m = localStorage.getItem("demin2fre");
        n = parseFloat(m);
        o = localStorage.getItem("demin2amp");
        p = parseFloat(o);
        q = localStorage.getItem("car3fre");
        r = parseFloat(q);
        s = localStorage.getItem("car3amp");
        t = parseFloat(s);
        u = localStorage.getItem("demin3fre");
        v = parseFloat(u);
        w = localStorage.getItem("demin3amp");
        x = parseFloat(w);
        y = localStorage.getItem("carXfre");
        xz = parseFloat(y);
        z = localStorage.getItem("carXamp");
        ñ = parseFloat(z);

        var num1, num2, num, mf, n = 2, o, p;
        var freqa = (a - e);
        var freqb = (i - m);
        var freqc = (q - u);
        var freq1 = (xz - freqa);
        var freq2 = (xz - freqb);
        var freq3 = (xz - freqc);
        var freq4 = (xz + freqa);
        var freq5 = (xz + freqb);
        var freq6 = (xz + freqc);
        var inc1 = a / 20;
        var inc2 = a / 10;
        var inc3 = a / 10;
        var inc4 = a / 10;
        var inc5 = a / 10;
        var inc6 = a / 15;
        var bm1 = (4 * C * c * g) / 2;
        var ebma = 4 * V * z;
        var ebm1 = (ebma * bm1) / 2;
        var bm2 = (4 * C * k * o) / 2;
        var ebmb = 4 * V * z;
        var ebm2 = (ebmb * bm2) / 2;
        var bm3 = (4 * C * s * w) / 2;
        var ebmc = 4 * V * z;
        var ebm3 = (ebmc * bm3) / 2;
        var amp1 = ebm1 / 10;
        var amp2 = ebm2 / 10;
        var amp3 = ebm3 / 10;
          
        
        function freqdraw(){
          freqlabel(); freqlines();};
      
         
        function freqlabel(){
          context1.beginPath();
          context1.font="20px Arial ";
          context1.fillText( 'Frequency Spectrum',10,16);
          context1.closePath();
          context1.beginPath();             
        };
                  
        function freqlines(){     
          o=30
          p=10
          draw1()
          
      
        function draw1(){
          
            context1.beginPath();
            context1.beginPath();
            context1.stroke();
            context1.moveTo(0, canvas2.height - canvas2.height / 5);
            context1.lineTo(canvas2.width, canvas2.height - canvas2.height / 5);
            context1.strokeStyle = "#000"
            context1.stroke();
            context1.closePath();
          

            if (freq3 == H) {
                context1.moveTo(canvas2.width / 250 -10+ inc3/50, canvas2.height - canvas2.height / 5);
                context1.lineTo(canvas2.width / 250 -10+ inc3/50, canvas2.height - canvas2.height / 5 - 30 -(amp3*150));
                context1.stroke();
                context1.stroke();
                context1.font = "10px Arial "
                context1.fillText((ebm3.toPrecision(3))+"V", canvas2.width / 250 - 15+ inc3 /50, canvas2.height - canvas2.height / 5 - 30 -(amp3*150));
                context1.fillText(((freq3))+"Hz", canvas2.width / 250 -10 + inc3/50-10, canvas2.height - canvas2.height / 5 + p);

                } else if (freq2 == H ) {
              context1.moveTo(canvas2.width / 250 -10+ inc2/50, canvas2.height - canvas2.height / 5);
              context1.lineTo(canvas2.width / 250 -10+ inc2/50, canvas2.height - canvas2.height / 5 - 30 -(amp2*150));
              context1.stroke();
              context1.stroke();
              context1.font = "10px Arial "
              context1.fillText((ebm2.toPrecision(3))+"V", canvas2.width / 250 - 15+ inc2 /50, canvas2.height - canvas2.height / 5 - 30 -(amp2*150));
              context1.fillText(((freq2))+"Hz", canvas2.width / 250 -10 + inc2/50-10, canvas2.height - canvas2.height / 5 + p);

               } else if (freq1 == H) {
              context1.moveTo(canvas2.width / 250 -10+ inc1/50, canvas2.height - canvas2.height / 5);
              context1.lineTo(canvas2.width / 250 -10+ inc1/50, canvas2.height - canvas2.height / 5 - 30 -(amp1));
              context1.stroke();
              context1.stroke();
              context1.font = "10px Arial "
              context1.fillText((ebm1.toPrecision(3))+"V", canvas2.width / 250 - 15+ inc1 /50, canvas2.height - canvas2.height / 5 - 30 -(amp1));
              context1.fillText(((freq1))+"Hz", canvas2.width / 250 -10 + inc1/50-10, canvas2.height - canvas2.height / 5 + p);
               
              }else {
              context1.stroke();
              context1.stroke();
              context1.fillText((ebm1.toPrecision(3)), canvas2.width, canvas2.height );
              context1.fillText(((freq1)), canvas2.width , canvas2.height );
              }
        }};
                  function loop1(){
                  context1.clearRect(0,0,canvas2.width, canvas2. height)
                  freqdraw();
                  }
             loop1()
                  </script>
              </body>
          </html>