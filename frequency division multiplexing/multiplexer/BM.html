<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Frequency Division Multiplexer Output</title>

</head>

<body>
  <script type="text/javascript">
    const canvas2 = document.createElement('canvas'), pi = Math.PI;
    canvas2.id = 'canvas2';
    canvas2.width = (window.innerWidth) - 25;
    canvas2.height = (3.25 * window.innerHeight) / 4;
    canvas2.style.border = "1px solid #000";
    canvas2.style.position = "top 95px;"
    canvas2.style.margin = "2.5px";
    document.body.appendChild(canvas2);
    const context1 = canvas2.getContext('2d');
    const C = 0.01;
    var a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x;
    a = localStorage.getItem("car1fre");
    b = parseFloat(a);
    c = localStorage.getItem("car1amp");
    d = parseFloat(c);
    e = localStorage.getItem("demin1fre");
    f = parseFloat(e);
    g = localStorage.getItem("demin1amp");
    h = parseFloat(g);
    i = localStorage.getItem("car2fre");
    j = parseFloat(i);
    k = localStorage.getItem("car2amp");
    l = parseFloat(k);
    m = localStorage.getItem("demin2fre");
    n = parseFloat(m);
    o = localStorage.getItem("demin2amp");
    p = parseFloat(o);
    q = localStorage.getItem("car3fre");
    r = parseFloat(q);
    s = localStorage.getItem("car3amp");
    t = parseFloat(s);
    u = localStorage.getItem("demin3fre");
    v = parseFloat(u);
    w = localStorage.getItem("demin3amp");
    x = parseFloat(w);

    var num1, num2, num, mf, n = 2, o, p;
    var freq1 = (a - e);
    var freq2 = (i - m);
    var freq3 = (q - u);
    var ebm1 = (4 * C * c * g) / 2;
    var ebm2 = (4 * C * k * o) / 2;
    var ebm3 = (4 * C * s * w) / 2;
    var amp1 = ebm1 / 10;
    var amp2 = ebm2 / 10;
    var amp3 = ebm3 / 10;
    var highfreq = Math.max(freq1,freq2,freq3);
    var lowfreq = Math.min(freq1,freq2,freq3);
    var midfreq = freq1+freq2+freq3-Math.max(freq1,freq2,freq3)-Math.min(freq1,freq2,freq3);
    var highamp = 0;
    var midamp = 0;
    var lowamp = 0;
    var highebm = 0;
    var midebm = 0;
    var lowebm = 0;
    if(freq1 == highfreq){
      highamp = amp1;
      highebm = ebm1.toPrecision(3);
      if(freq2 == midfreq){
        midamp = amp2;
        midebm = ebm2.toPrecision(3);
        lowamp = amp3;
        lowebm = ebm3.toPrecision(3);
      }else{
        midamp = amp3;
        midebm = ebm3.toPrecision(3);
        lowamp = amp2;
        lowebm = ebm2.toPrecision(3);
      }
    }
    if(freq2 == highfreq){
      highamp = amp2;
      highebm = ebm2.toPrecision(3);
      if(freq1 == midfreq){
        midamp = amp1;
        midebm = ebm1.toPrecision(3);
        lowamp = amp3;
        lowebm = ebm3.toPrecision(3);
      }else{
        midamp = amp3;
        midebm = ebm3.toPrecision(3);
        lowamp = amp1;
        lowebm = ebm1.toPrecision(3);
      }
    }
    if(freq3 == highfreq){
      highamp = amp3;
      highebm = ebm3.toPrecision(3);
      if(freq2 == midfreq){
        midamp = amp2;
        midebm = ebm2.toPrecision(3);
        lowamp = amp1;
        lowebm = ebm1.toPrecision(3);
      }else{
        midamp = amp1;
        midebm = ebm1.toPrecision(3);
        lowamp = amp2;
        lowebm = ebm2.toPrecision(3);
      }
    }
    
    function freqdraw() {
      freqlabel(); freqlines();
    };


    function freqlabel() {
      context1.beginPath();
      context1.font = "20px Arial ";
      context1.fillText('Frequency Spectrum', 10, 16);
      context1.closePath();
      context1.beginPath();
    };

    function freqlines() {
      o = 30
      p = 10
      draw1()


      function draw1() {

context1.beginPath();
context1.beginPath();
context1.stroke();
context1.moveTo(0, canvas2.height - canvas2.height / 5);
context1.lineTo(canvas2.width, canvas2.height - canvas2.height / 5);
context1.strokeStyle = "#000"
context1.stroke();
context1.closePath();

    context1.moveTo(canvas2.width*highfreq/110000, canvas2.height - canvas2.height / 5);
    context1.lineTo(canvas2.width*highfreq/110000, canvas2.height - canvas2.height / 5 - (highamp * 150));
    context1.stroke();
    context1.font = "10px Arial "
    context1.fillText((highebm) + "V", canvas2.width*highfreq/110000 - 7, canvas2.height - canvas2.height / 5 - 5 - (highamp * 150));
    context1.fillText((highfreq) + "Hz", canvas2.width*highfreq/110000 - 20, canvas2.height - canvas2.height / 5 + 20 + p);

    context1.moveTo(canvas2.width*midfreq/110000, canvas2.height - canvas2.height / 5);
    context1.lineTo(canvas2.width*midfreq/110000, canvas2.height - canvas2.height / 5 - (midamp * 150));
    context1.stroke();
    context1.font = "10px Arial "
    context1.fillText((midebm) + "V", canvas2.width*midfreq/110000 - 7, canvas2.height - canvas2.height / 5 - 5 - (midamp * 150));
    context1.fillText((midfreq) + "Hz",canvas2.width*midfreq/110000 - 20, canvas2.height - canvas2.height / 5 + 10 + p);

    context1.moveTo(canvas2.width*lowfreq/110000, canvas2.height - canvas2.height / 5);
    context1.lineTo(canvas2.width*lowfreq/110000, canvas2.height - canvas2.height / 5 - (lowamp * 150));
    context1.stroke();
    context1.font = "10px Arial "
    context1.fillText((lowebm) + "V", canvas2.width*lowfreq/110000 - 7, canvas2.height - canvas2.height / 5 - 5 - (lowamp * 150));
    context1.fillText((lowfreq) + "Hz", canvas2.width*lowfreq/110000 - 20, canvas2.height - canvas2.height / 5 + p);
}
};
    function loop1() {
      context1.clearRect(0, 0, canvas2.width, canvas2.height)
      freqdraw();
    }
    loop1()
  </script>
</body>

</html>